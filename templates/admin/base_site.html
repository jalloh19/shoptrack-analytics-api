{% extends "admin/base.html" %}
{% load static %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block extrastyle %}
{{ block.super }}
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Custom Admin CSS -->
<style>
:root {
    --primary: #667eea;
    --secondary: #764ba2;
}

/* FIX: Form field readability */
.form-row {
    margin-bottom: 20px !important;
    padding: 15px !important;
    background: #f8f9fa !important;
    border-radius: 8px !important;
    border: 1px solid #dee2e6 !important;
}

.form-row label {
    color: #2c3e50 !important;
    font-weight: 600 !important;
    margin-bottom: 8px !important;
    display: block !important;
}

.form-row input[type="text"],
.form-row input[type="email"],
.form-row input[type="password"],
.form-row input[type="number"],
.form-row select,
.form-row textarea {
    width: 100% !important;
    padding: 10px 12px !important;
    border: 1px solid #ced4da !important;
    border-radius: 4px !important;
    background: white !important;
    color: #000 !important;
    font-size: 14px !important;
}

.form-row input[type="text"]:focus,
.form-row input[type="email"]:focus,
.form-row input[type="password"]:focus,
.form-row input[type="number"]:focus,
.form-row select:focus,
.form-row textarea:focus {
    border-color: var(--primary) !important;
    outline: none !important;
    box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.25) !important;
}

/* Fix help text */
.help {
    color: #6c757d !important;
    font-size: 12px !important;
    margin-top: 5px !important;
}

/* Fix fieldset and labels */
fieldset {
    background: #f8f9fa !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 8px !important;
    padding: 20px !important;
    margin-bottom: 20px !important;
}

fieldset h2 {
    color: #2c3e50 !important;
    font-size: 1.3rem !important;
    font-weight: 600 !important;
    margin-bottom: 15px !important;
    border-bottom: 2px solid var(--primary) !important;
    padding-bottom: 8px !important;
}

/* Fix checkboxes and radio buttons */
input[type="checkbox"],
input[type="radio"] {
    margin-right: 8px !important;
}

/* Fix submit buttons */
.submit-row {
    background: #f8f9fa !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 8px !important;
    padding: 20px !important;
    margin-top: 20px !important;
}

.submit-row input {
    background: var(--primary) !important;
    color: white !important;
    border: none !important;
    border-radius: 4px !important;
    padding: 10px 20px !important;
    font-weight: 600 !important;
    cursor: pointer !important;
}

.submit-row input:hover {
    background: var(--secondary) !important;
}

/* Fix error messages */
.errornote {
    background: #f8d7da !important;
    color: #721c24 !important;
    border: 1px solid #f5c6cb !important;
    border-radius: 4px !important;
    padding: 12px !important;
    margin-bottom: 20px !important;
}

/* Fix required field indicators */
.required {
    color: #dc3545 !important;
    font-weight: bold !important;
}

/* FIX: Filter sidebar readability */
#changelist-filter {
    background: #f8f9fa !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 8px !important;
    padding: 15px !important;
}

#changelist-filter h2 {
    color: #2c3e50 !important;
    font-size: 1.2rem !important;
    font-weight: 600 !important;
    margin-bottom: 15px !important;
    border-bottom: 2px solid var(--primary) !important;
    padding-bottom: 8px !important;
}

#changelist-filter h3 {
    color: #495057 !important;
    font-size: 1rem !important;
    font-weight: 600 !important;
    margin: 20px 0 10px 0 !important;
}

#changelist-filter li {
    margin-bottom: 8px !important;
}

#changelist-filter a {
    color: #495057 !important;
    text-decoration: none !important;
    padding: 5px 8px !important;
    border-radius: 4px !important;
    display: block !important;
    transition: all 0.2s !important;
}

#changelist-filter a:hover {
    background: var(--primary) !important;
    color: white !important;
}

#changelist-filter a.selected {
    background: var(--primary) !important;
    color: white !important;
    font-weight: 600 !important;
}

/* Ensure all filter text is readable */
#changelist-filter * {
    color: #495057 !important;
}

#changelist-filter .selected,
#changelist-filter .selected * {
    color: white !important;
}

/* FIX: Table data readability */
#content-main .module table {
    width: 100% !important;
    border-collapse: collapse !important;
}

#content-main .module table th,
#content-main .module table td {
    padding: 12px 8px !important;
    text-align: left !important;
    border-bottom: 1px solid #dee2e6 !important;
    background: white !important;
    color: #000 !important;
    font-size: 14px !important;
}

#content-main .module table th {
    background: #f8f9fa !important;
    font-weight: 600 !important;
    color: #495057 !important;
    border-bottom: 2px solid #dee2e6 !important;
}

/* Ensure text contrast in main content */
#content-main * {
    color: #000 !important;
}

/* Fix table row hover */
#content-main .module table tr:hover td {
    background: #f8f9fa !important;
}

/* Center the main title */
#content h1 {
    text-align: center !important;
    font-size: 2.5rem !important;
    color: #2c3e50 !important;
    font-weight: 600 !important;
    margin-bottom: 2rem !important;
}

/* Header Styling */
#header {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%) !important;
    color: white;
}

#branding h1 {
    color: white !important;
    font-weight: 600;
}

/* Breadcrumb */
.breadcrumbs {
    background: #f8f9fa !important;
    border-bottom: 1px solid #dee2e6;
}

/* Module List Styling */
.module h2, .module caption {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%) !important;
    color: white !important;
}

/* Buttons */
.button, input[type=submit], input[type=button], .submit-row input {
    background: var(--primary) !important;
    border: none !important;
    border-radius: 4px !important;
}

.button:hover, input[type=submit]:hover, input[type=button]:hover {
    background: var(--secondary) !important;
}

/* Footer */
.admin-footer {
    background: #f8f9fa;
    border-top: 1px solid #dee2e6;
    padding: 20px 0;
    margin-top: 40px;
}

/* Custom Dashboard Cards */
.dashboard-card {
    border: none;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

.dashboard-card .card-body {
    padding: 1.5rem;
}
</style>
{% endblock %}

{% block branding %}
<h1 id="site-name">
    <a href="{% url 'admin:index' %}">
        üõçÔ∏è {{ site_header|default:_('Django administration') }}
    </a>
</h1>
{% endblock %}

{% block nav-global %}{% endblock %}

{% block footer %}
<div class="admin-footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <strong>üõçÔ∏è ShopTrack Analytics</strong><br>
                <small class="text-muted">E-commerce Analytics Platform</small>
            </div>
            <div class="col-md-6 text-end">
                <small class="text-muted">
                    Version 1.0.0 ‚Ä¢ 
                    <a href="/" class="text-decoration-none">Back to Site</a>
                </small>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}